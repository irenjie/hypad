(function(e){function t(t){for(var a,s,i=t[0],l=t[1],c=t[2],d=0,p=[];d<i.length;d++)s=i[d],Object.prototype.hasOwnProperty.call(o,s)&&o[s]&&p.push(o[s][0]),o[s]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(e[a]=l[a]);u&&u(t);while(p.length)p.shift()();return r.push.apply(r,c||[]),n()}function n(){for(var e,t=0;t<r.length;t++){for(var n=r[t],a=!0,i=1;i<n.length;i++){var l=n[i];0!==o[l]&&(a=!1)}a&&(r.splice(t--,1),e=s(s.s=n[0]))}return e}var a={},o={app:0},r=[];function s(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=e,s.c=a,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)s.d(n,a,function(t){return e[t]}.bind(null,a));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],l=i.push.bind(i);i.push=t,i=i.slice();for(var c=0;c<i.length;c++)t(i[c]);var u=l;r.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"034f":function(e,t,n){"use strict";var a=n("85ec"),o=n.n(a);o.a},"21c8":function(e,t,n){"use strict";var a=n("7a74"),o=n.n(a);o.a},"2ebb":function(e,t,n){},"3e85":function(e,t,n){},"47e5":function(e,t,n){"use strict";var a=n("2ebb"),o=n.n(a);o.a},"4b22":function(e,t,n){"use strict";var a=n("54ec"),o=n.n(a);o.a},"54a4":function(e,t,n){},"54ec":function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("2b0e"),o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},r=[],s=(n("034f"),n("2877")),i={},l=Object(s["a"])(i,o,r,!1,null,null,null),c=l.exports,u=n("8c4f"),d=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("Header"),n("div",{staticClass:"pad_menu"},[n("PadMenu")],1),n("div",{staticClass:"pad_content"},[n("div",{staticClass:"div_table"},[n("el-table",{staticStyle:{width:"100%"},attrs:{data:e.persons,stripe:""}},[n("el-table-column",{attrs:{prop:"name",label:"姓名",width:"100"}}),n("el-table-column",{attrs:{prop:"lightcomp",label:"亮点公司和岗位",width:"200","show-overflow-tooltip":""}}),n("el-table-column",{attrs:{prop:"phone",label:"电话",width:"120"}}),n("el-table-column",{attrs:{prop:"gender",label:"性别",width:"60"}}),n("el-table-column",{attrs:{prop:"workexp",label:"工作经验(年)",width:"100"}}),n("el-table-column",{attrs:{prop:"induction",label:"简历日期",width:"100"}}),n("el-table-column",{attrs:{prop:"workset",label:"备注/其他","show-overflow-tooltip":""}}),n("el-table-column",{attrs:{label:"操作",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-dialog",{attrs:{title:"人员信息",visible:e.dialogVisible,width:"500px","before-close":e.handleClose},on:{"update:visible":function(t){e.dialogVisible=t}}},[n("el-input",{attrs:{type:"textarea",rows:10,placeholder:"出错了!!"},model:{value:e.sharedInfo,callback:function(t){e.sharedInfo=t},expression:"sharedInfo"}}),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("关 闭")]),n("el-button",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:e.sharedInfo,expression:"sharedInfo",arg:"copy"}],attrs:{type:"primary"},on:{click:function(t){return e.onCopy()}}},[e._v("复 制")])],1)],1),n("el-button",{attrs:{type:"text",size:"small"},on:{click:function(n){return e.onClickShare(t.row)}}},[e._v("分享")]),n("el-button",{attrs:{type:"text",size:"small"},on:{click:function(n){return e.editperson(t.row,1)}}},[e._v("查看")]),n("el-button",{attrs:{type:"text",size:"small"},on:{click:function(n){return e.editperson(t.row,2)}}},[e._v("编辑")]),n("el-button",{attrs:{type:"text",size:"small"},on:{click:function(n){return e.deleteperson(t.row)}}},[e._v("删除")])]}}])})],1)],1),n("el-pagination",{staticStyle:{"margin-bottom":"40px"},attrs:{background:"",layout:"prev, pager, next","current-page":e.currentPage,"page-size":e.pageSize,total:e.total},on:{"current-change":e.loadPage}})],1)],1)},p=[],m=(n("b0c0"),n("d3b7"),n("25f0"),n("b85c")),f=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("el-header",{staticClass:"header",attrs:{height:"60px"}},[n("el-image",{staticStyle:{width:"10%"},attrs:{src:e.picUrl}})],1)],1)},h=[],g={name:"Header",data:function(){return{avatarSize:200,picUrl:"http://mm.hydeze.vip/assets/hylink.png"}}},b=g,v=(n("47e5"),Object(s["a"])(b,f,h,!1,null,"bc2fb0d0",null)),w=v.exports,k=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"padmenu"},[n("el-radio-group",{staticStyle:{"margin-bottom":"20px"},model:{value:e.isCollapse,callback:function(t){e.isCollapse=t},expression:"isCollapse"}},[n("el-radio-button",{attrs:{label:!1}},[e._v("展开")]),n("el-radio-button",{attrs:{label:!0}},[e._v("收起")])],1),n("el-menu",{staticClass:"el-menu-vertical-demo",attrs:{"default-active":"1-4-1",collapse:e.isCollapse},on:{open:e.handleOpen,close:e.handleClose}},[n("el-submenu",{attrs:{index:"1"}},[n("template",{slot:"title"},[n("i",{staticClass:"el-icon-user-solid"}),n("span",{attrs:{slot:"title"},slot:"title"},[e._v("人员招聘")])]),n("el-menu-item-group",[n("el-menu-item",{attrs:{index:"1-1"},on:{click:e.goPersonOne}},[e._v("全部人员")]),n("el-menu-item",{attrs:{index:"1-2"},on:{click:e.goPersonSearchOne}},[e._v("人员搜索")]),n("el-menu-item",{attrs:{index:"1-3"},on:{click:e.goPersonEditOne}},[e._v("人员录入")]),n("el-menu-item",{attrs:{index:"1-4"},on:{click:e.goKeysOne}},[e._v("关键字集")])],1)],2),n("el-submenu",{attrs:{index:"2"}},[n("template",{slot:"title"},[n("i",{staticClass:"el-icon-location"}),n("span",{attrs:{slot:"title"},slot:"title"},[e._v("公司员工")])]),n("el-menu-item-group",[n("el-menu-item",{attrs:{index:"2-1"},on:{click:e.goPersonTwo}},[e._v("全部员工")]),n("el-menu-item",{attrs:{index:"2-2"},on:{click:e.goPersonSearchTwo}},[e._v("员工搜索")]),n("el-menu-item",{attrs:{index:"2-3"},on:{click:e.goPersonEditTwo}},[e._v("员工录入")]),n("el-menu-item",{attrs:{index:"2-4"},on:{click:e.goRankTwo}},[e._v("职级编辑")]),n("el-menu-item",{attrs:{index:"2-5"},on:{click:e.goAccount}},[e._v("账户信息")])],1)],2),n("el-menu-item",{attrs:{index:"3",disabled:""}},[n("i",{staticClass:"el-icon-document"}),n("span",{attrs:{slot:"title"},slot:"title"},[e._v("开发中")])]),n("el-menu-item",{attrs:{index:"4",disabled:""}},[n("i",{staticClass:"el-icon-setting"}),n("span",{attrs:{slot:"title"},slot:"title"},[e._v("开发中")])])],1)],1)},y=[],x={name:"padmenu",data:function(){return{isCollapse:!1}},methods:{goPersonOne:function(){this.$router.push("/person")},goPersonSearchOne:function(){this.$router.push("/PersonSearch")},goPersonEditOne:function(){this.$router.push("/person/add")},goKeysOne:function(){this.$router.push("/keys")},goPersonTwo:function(){this.$router.push("/nowperson").catch((function(){}))},goPersonSearchTwo:function(){this.$router.push("/nowpersonsearch").catch((function(){}))},goPersonEditTwo:function(){this.$router.push("/nowperson/add").catch((function(){}))},goRankTwo:function(){this.$router.push("/rank").catch((function(){}))},goAccount:function(){this.$router.push("/account")},handleOpen:function(e,t){},handleClose:function(e,t){}}},_=x,$=(n("5a01"),Object(s["a"])(_,k,y,!1,null,"44536a40",null)),S=$.exports,C=n("b705"),P=n.n(C),R={name:"Person",components:{PadMenu:S,Header:w},data:function(){return{currentPage:1,total:0,pageSize:10,persons:[],keysnamec:"",dialogVisible:!1,sharedInfo:"test",shareKeysname:[],tooltip:!0}},methods:{loadPage:function(e){var t=this;this.$axios.get("/person?currentPage="+e).then((function(e){var n,a=e.data.data.records,o=Object(m["a"])(a);try{for(o.s();!(n=o.n()).done;){var r=n.value;r.induction=r.induction.substr(0,10),r.gender=1==r.gender?"男":"女",t.$axios.get("/personkey/"+r.id).then((function(e){t.keysnamec=e.data.data.toString()})),r.keysname=t.keysnamec}}catch(s){o.e(s)}finally{o.f()}t.persons=a,t.currentPage=e.data.data.current,t.total=e.data.data.total,t.pageSize=e.data.data.size}))},editperson:function(e,t){this.$router.push("/person/"+t+e.id+"/edit")},deleteperson:function(e){this.$axios.get("/person/delete/"+e.id).then((function(e){location.reload()}))},handleClose:function(e){this.$confirm("确认关闭？").then((function(t){e()})).catch((function(e){}))},onClickShare:function(e){this.dialogVisible=!0;var t=this;this.$axios.get("/personkey/"+e.id).then((function(n){var a=n.data.data;for(var o in t.shareKeysname.length=0,a)t.shareKeysname.push(a[o]);t.sharedInfo="姓名："+e.name+"\n电话："+e.phone+"\n邮箱："+e.email+"\n性别："+e.gender+"\n学校："+(null==e.school?"":e.school)+"\n专业："+(null==e.major?"":e.major)+"\n学历："+(null==e.qualification?"":e.qualification)+"\n关键字："+t.shareKeysname.toString()+"\n工作年限："+e.workexp+"\n目前薪资："+(null==e.salarynow?"":e.salarynow)+"\n期望薪资："+(null==e.salaryexpect?"":e.salaryexpect)+"\n简历日期："+e.induction+"\n招聘渠道："+(null==e.employfrom?"":e.employfrom)+"\n毕业时间："+(null==e.gmt_report?"":e.gmt_report)+"\n是否面试："+(1==e.isinterview?"已面试":"未面试")+"\n面试结果："+(1==e.interviewres?"已通过":"未通过")+"\n备注/其它："+(null==e.workset?"无":e.workset)+"\n亮点公司/岗位："+(null==e.lightcomp?"":e.lightcomp)+"\n"}))},onCopy:function(){this.dialogVisible=!1,P.a.Message.success("成功复制到剪贴板！")}},created:function(){this.loadPage(1)}},I=R,E=(n("4b22"),Object(s["a"])(I,d,p,!1,null,"4ac7d04c",null)),O=E.exports,j=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("Header"),n("div",{staticClass:"pad_menu"},[n("PadMenu")],1),n("div",{staticClass:"pad_content"},[n("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"80px","label-position":"left",align:"left"}},[n("el-form-item",{attrs:{label:"姓名",prop:"name"}},[n("el-input",{model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),n("el-form-item",{attrs:{label:"关键字"}},e._l(e.keysall,(function(t){return n("el-checkbox-group",{model:{value:e.keysname,callback:function(t){e.keysname=t},expression:"keysname"}},[n("el-checkbox",{attrs:{label:t.keyname,name:"type"}})],1)})),1),n("el-form-item",{attrs:{label:"性别",prop:"gender"}},[n("el-radio-group",{model:{value:e.form.gender,callback:function(t){e.$set(e.form,"gender",t)},expression:"form.gender"}},[n("el-radio",{attrs:{label:"男"}}),n("el-radio",{attrs:{label:"女"}})],1)],1),n("el-form-item",{attrs:{label:"学校",prop:"school"}},[n("el-input",{model:{value:e.form.school,callback:function(t){e.$set(e.form,"school",t)},expression:"form.school"}})],1),n("el-form-item",{attrs:{label:"专业",prop:"major"}},[n("el-input",{model:{value:e.form.major,callback:function(t){e.$set(e.form,"major",t)},expression:"form.major"}})],1),n("el-form-item",{attrs:{label:"学历",prop:"qualification"}},[n("el-input",{model:{value:e.form.qualification,callback:function(t){e.$set(e.form,"qualification",t)},expression:"form.qualification"}})],1),n("el-form-item",{attrs:{label:"工作年限",prop:"workexp"}},[n("el-input",{attrs:{type:"age",placeholder:"请输入纯整数!"},model:{value:e.form.workexp,callback:function(t){e.$set(e.form,"workexp",t)},expression:"form.workexp"}})],1),n("el-form-item",{attrs:{label:"目前薪资",prop:"salarynow"}},[n("el-input",{model:{value:e.form.salarynow,callback:function(t){e.$set(e.form,"salarynow",t)},expression:"form.salarynow"}})],1),n("el-form-item",{attrs:{label:"期望薪资",prop:"salaryexpect"}},[n("el-input",{model:{value:e.form.salaryexpect,callback:function(t){e.$set(e.form,"salaryexpect",t)},expression:"form.salaryexpect"}})],1),n("el-form-item",{attrs:{label:"简历日期",align:"center",prop:"induction"}},[n("el-col",{attrs:{span:11}},[n("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",placeholder:"选择日期"},model:{value:e.form.induction,callback:function(t){e.$set(e.form,"induction",t)},expression:"form.induction"}})],1)],1),n("el-form-item",{attrs:{label:"招聘渠道",prop:"employfrom"}},[n("el-input",{model:{value:e.form.employfrom,callback:function(t){e.$set(e.form,"employfrom",t)},expression:"form.employfrom"}})],1),n("el-form-item",{attrs:{label:"毕业时间",align:"center",prop:"gmt_report"}},[n("el-col",{attrs:{span:11}},[n("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",placeholder:"选择日期"},model:{value:e.form.gmt_report,callback:function(t){e.$set(e.form,"gmt_report",t)},expression:"form.gmt_report"}})],1)],1),n("el-form-item",{attrs:{label:"公司/岗位",prop:"lightcomp"}},[n("el-input",{model:{value:e.form.lightcomp,callback:function(t){e.$set(e.form,"lightcomp",t)},expression:"form.lightcomp"}})],1),n("el-form-item",{attrs:{label:"是否面试",prop:"isinterview"}},[n("el-radio-group",{model:{value:e.form.isinterview,callback:function(t){e.$set(e.form,"isinterview",t)},expression:"form.isinterview"}},[n("el-radio",{attrs:{label:"已面试"}}),n("el-radio",{attrs:{label:"未面试"}})],1)],1),n("el-form-item",{attrs:{label:"面试结果",prop:"interviewres"}},[n("el-radio-group",{model:{value:e.form.interviewres,callback:function(t){e.$set(e.form,"interviewres",t)},expression:"form.interviewres"}},[n("el-radio",{attrs:{label:"通过"}}),n("el-radio",{attrs:{label:"未通过"}})],1)],1),n("el-form-item",{directives:[{name:"show",rawName:"v-show",value:e.isEdit,expression:"isEdit"}],attrs:{label:"文件上传"}},[n("el-upload",{ref:"upload",attrs:{"on-preview":e.handlePreview,"on-remove":e.handleRemove,"auto-upload":!1,"file-list":e.fileList,data:e.form,action:"http://47.111.235.119:39081/hypad/upload"}},[n("el-button",{attrs:{slot:"trigger",size:"small",type:"primary"},slot:"trigger"},[e._v("选取文件")]),n("el-button",{directives:[{name:"show",rawName:"v-show",value:e.isEdit,expression:"isEdit"}],staticStyle:{"margin-left":"10px"},attrs:{size:"small",type:"success"},on:{click:e.submitUpload}},[e._v("上传到服务器 ")]),n("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v("仅在此上传文件，点击 创建/修改 文件不会上传，文件不超过200Mb")])],1)],1),n("el-form-item",{directives:[{name:"show",rawName:"v-show",value:e.isEdit,expression:"isEdit"}],attrs:{label:"文件下载"}},[n("el-table",{staticStyle:{width:"100%"},attrs:{data:e.files,stripe:""}},[n("el-table-column",{attrs:{label:0,label:"文件名","min-width":"300",prop:"name","show-overflow-tooltip":""}}),n("el-table-column",{attrs:{label:"操作",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-button",{attrs:{type:"text",size:"small"},on:{click:function(n){return e.downloadFile(t.row)}}},[e._v("下载")]),n("el-button",{attrs:{type:"text",size:"small"},on:{click:function(n){return e.deletefile(t.row)}}},[e._v("删除")])]}}])})],1)],1),n("el-form-item",{attrs:{label:"备注/其他"}},[n("el-input",{attrs:{type:"textarea"},model:{value:e.form.workset,callback:function(t){e.$set(e.form,"workset",t)},expression:"form.workset"}})],1),n("el-form-item",{attrs:{label:"电话",prop:"phone"}},[n("el-input",{model:{value:e.form.phone,callback:function(t){e.$set(e.form,"phone",t)},expression:"form.phone"}})],1),n("el-form-item",{attrs:{label:"邮箱",prop:"email"}},[n("el-input",{model:{value:e.form.email,callback:function(t){e.$set(e.form,"email",t)},expression:"form.email"}})],1),n("el-form-item",{directives:[{name:"show",rawName:"v-show",value:!e.isWatch,expression:"!isWatch"}]},[n("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.onSubmit("form")}}},[e._v("创建 / 修改")]),n("el-button",{on:{click:function(t){return e.resetForm("form")}}},[e._v("清空")])],1)],1)],1)],1)},V=[],F=(n("a15b"),n("ddb0"),{name:"PersonEdit",components:{PadMenu:S,Header:w},data:function(){return{form:{id:"0",name:"",gender:"女",school:"",major:"",qualification:"",workexp:"",salarynow:"",salaryexpect:"",induction:"",employfrom:"",lightcomp:"",isinterview:"",interviewres:"",workset:"",gmt_report:"",phone:"",email:"",is_delete:"",gmt_create:"",gmt_modified:""},index:0,files:[],isEdit:!1,isWatch:!1,keys:[],keysname:[],keysall:[],fileList:[],rules:{name:[{required:!0,message:"请输入姓名",trigger:"blur"}],gender:[{required:!0,message:"请选择性别",trigger:"blur"}],workexp:[{required:!0,message:"请输入工作年限"}],induction:[{required:!0,message:"请选择建简历日期",trigger:"blur"}],isinterview:[{required:!0,message:"请选择是否已面试",trigger:"blur"}]}}},methods:{onSubmit:function(e){var t=this;this.$refs[e].validate((function(e){if(!e)return console.log("error submit!!!"),!1;var n=t;t.form.gender="男"==t.form.gender?"1":"0",t.form.isinterview="已面试"==t.form.isinterview?"1":"0",t.form.interviewres="通过"==t.form.interviewres?"1":"0",console.log("success submit!!!"),t.$axios.post("/person/edit",t.form,{}).then((function(e){var t=e.data.data+"-"+n.keysname.join("-");n.$axios.get("/personkey/edit/"+t).then((function(e){n.$router.push("/")}))}))}))},resetForm:function(e){this.$refs[e].resetFields()},submitUpload:function(){this.$refs.upload.submit(),this.$message({showClose:!0,message:"上传成功！",type:"success"})},handleRemove:function(e,t){console.log(e,t)},handlePreview:function(e){console.log(e)},downloadFile:function(e){window.location.href="http://47.111.235.119:39081/hypad/downloadFile/"+this.form.id+"-"+e.name},deletefile:function(e){this.$axios.get("/deleteFile/"+this.form.id+"-"+e.name).then((function(e){})),location.reload()}},created:function(){var e=this.$route.params.personId,t=this;this.$axios.get("/keys").then((function(e){var n=e.data.data;for(var a in t.keysall=n,n)t.keys.push(n[a].keyname)})),e&&("1"==e.charAt(0)&&(this.isWatch=!0),e=e.substring(1,e.length),this.isEdit=!0,this.$axios.get("/person/"+e).then((function(e){var n=e.data.data;t.form=n,t.form.gender=1==n.gender?"男":"女",t.form.isinterview=1==n.isinterview?"已面试":"未面试",t.form.interviewres=1==n.interviewres?"通过":"未通过"})),this.$axios.get("/personkey/"+e).then((function(e){var n=e.data.data;for(var a in n)t.keysname.push(n[a])})),this.$axios.get("/filename/"+e).then((function(e){var n=e.data.data;for(var a in n){var o={name:"a"};o.name=n[a],t.files.push(o)}})))}}),z=F,q=Object(s["a"])(z,j,V,!1,null,"98d9e96c",null),M=q.exports,N=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("Header"),n("div",{staticClass:"pad_menu"},[n("PadMenu")],1),n("div",{staticClass:"pad_content"},[n("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:e.keysdata,stripe:"","tooltip-effect":"dark"},on:{"selection-change":e.handleSelectionChange}},[n("el-table-column",{attrs:{type:"selection",width:"55"}}),n("el-table-column",{attrs:{prop:"keyname",label:"关键字",width:"120"}}),n("el-table-column",{attrs:{prop:"keydes",label:"关键字描述","show-overflow-tooltip":""}})],1),n("div",{staticStyle:{"margin-top":"20px"},attrs:{align:"left"}},[n("el-button",{on:{click:e.deleteSelect}},[e._v("删除所选关键字")]),n("el-button",{on:{click:function(t){e.dialogFormVisible=!0}}},[e._v("添加关键字")]),n("el-dialog",{attrs:{title:"新建关键字",visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[n("el-form",{ref:"keysins",attrs:{model:e.keysins,rules:e.rules}},[n("el-form-item",{attrs:{label:"关键字",prop:"i_name"}},[n("el-input",{attrs:{autocomplete:"off"},model:{value:e.keysins.keyname,callback:function(t){e.$set(e.keysins,"keyname",t)},expression:"keysins.keyname"}})],1),n("el-form-item",{attrs:{label:"描述(选填)",prop:"i_desc"}},[n("el-input",{attrs:{type:"textarea",rows:2,placeholder:"关键字描述"},model:{value:e.keysins.keydes,callback:function(t){e.$set(e.keysins,"keydes",t)},expression:"keysins.keydes"}})],1)],1),n("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),n("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.addKey("keysins")}}},[e._v("确 定")])],1)],1)],1)],1)],1)},T=[],H={name:"Keys",components:{PadMenu:S,Header:w},data:function(){return{keysdata:[{id:"",keyname:"",keydes:"",is_delete:"",gmt_create:"",gmt_modified:""}],multipleSelection:[],keysins:{id:"",keyname:"",keydes:"",is_delete:"",gmt_create:"",gmt_modified:""},insWid:"120px",dialogFormVisible:!1,rules:{}}},methods:{loadPage:function(){var e=this;this.$axios.get("/keys").then((function(t){e.keysdata=t.data.data}))},handleSelectionChange:function(e){this.multipleSelection=e},addKey:function(e){var t=this;this.$refs[e].validate((function(e){if(!e||""==t.keysins.keyname)return console.log("error submit!!!"),!1;var n=t;t.$axios.post("/keys/edit",t.keysins,{}).then((function(e){console.log(e)})),n.dialogFormVisible=!1}))},deleteSelect:function(){var e,t="",n=Object(m["a"])(this.multipleSelection);try{for(n.s();!(e=n.n()).done;){var a=e.value;t+=a.id+"-"}}catch(o){n.e(o)}finally{n.f()}t=t.substr(0,t.length-1);this.$axios.get("/keys/delete/"+t).then((function(e){})),location.reload()}},created:function(){this.loadPage()}},L=H,K=Object(s["a"])(L,N,T,!1,null,"2b5088b2",null),A=K.exports,D=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("Header"),n("div",{staticClass:"pad_menu"},[n("PadMenu")],1),n("div",{staticClass:"pad_content"},[n("div",{staticClass:"div_term"},[n("div",{staticClass:"div_item"},e._l(e.keysall,(function(t){return n("el-checkbox-group",{model:{value:e.keysname,callback:function(t){e.keysname=t},expression:"keysname"}},[n("el-checkbox",{staticStyle:{"margin-right":"4px",float:"left"},attrs:{label:t.keyname}})],1)})),1),n("br"),n("el-divider",{staticClass:"el_divider"}),n("div",{staticClass:"div_item"},[n("el-input",{attrs:{placeholder:"输入要搜索的姓名","prefix-icon":"el-icon-search"},model:{value:e.nameser,callback:function(t){e.nameser=t},expression:"nameser"}})],1),n("el-divider",{staticClass:"el_divider"}),n("div",{staticClass:"div_item"},[n("el-input",{attrs:{placeholder:"输入亮点公司或岗位","prefix-icon":"el-icon-search"},model:{value:e.lightcompser,callback:function(t){e.lightcompser=t},expression:"lightcompser"}})],1),n("el-divider",{staticClass:"el_divider"}),n("el-button",{staticClass:"div_item",staticStyle:{"margin-top":"12px"},attrs:{type:"primary",plain:""},on:{click:e.search}},[e._v("立即查询")])],1),n("div",{staticClass:"div_table"},[n("el-table",{staticStyle:{width:"100%"},attrs:{data:e.persons,stripe:""}},[n("el-table-column",{attrs:{prop:"name",label:"姓名",width:"100"}}),n("el-table-column",{attrs:{prop:"lightcomp",label:"亮点公司和岗位",width:"200","show-overflow-tooltip":""}}),n("el-table-column",{attrs:{prop:"phone",label:"电话",width:"120"}}),n("el-table-column",{attrs:{prop:"gender",label:"性别",width:"60"}}),n("el-table-column",{attrs:{prop:"workexp",label:"工作经验(年)",width:"100"}}),n("el-table-column",{attrs:{prop:"induction",label:"简历日期",width:"100"}}),n("el-table-column",{attrs:{prop:"workset",label:"备注/其他"}}),n("el-table-column",{attrs:{label:"操作",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-dialog",{attrs:{title:"人员信息",visible:e.dialogVisible,width:"500px","before-close":e.handleClose},on:{"update:visible":function(t){e.dialogVisible=t}}},[n("el-input",{attrs:{type:"textarea",rows:10,placeholder:"出错了!!"},model:{value:e.sharedInfo,callback:function(t){e.sharedInfo=t},expression:"sharedInfo"}}),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("关 闭")]),n("el-button",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:e.sharedInfo,expression:"sharedInfo",arg:"copy"}],attrs:{type:"primary"},on:{click:function(t){return e.onCopy()}}},[e._v("复 制")])],1)],1),n("el-button",{attrs:{type:"text",size:"small"},on:{click:function(n){return e.onClickShare(t.row)}}},[e._v("分享")]),n("el-button",{attrs:{type:"text",size:"small"},on:{click:function(n){return e.editperson(t.row,1)}}},[e._v("查看")]),n("el-button",{attrs:{type:"text",size:"small"},on:{click:function(n){return e.editperson(t.row,2)}}},[e._v("编辑")]),n("el-button",{attrs:{type:"text",size:"small"},on:{click:function(n){return e.deleteperson(t.row)}}},[e._v("删除")])]}}])})],1)],1)])],1)},U=[],W={name:"PersonSearch",components:{PadMenu:S,Header:w},data:function(){return{currentPage:1,total:0,pageSize:10,persons:[],keysnamec:"",keys:[],keysname:[],keysall:[],nameser:"",lightcompser:"",workexpser:"",dialogVisible:!1,sharedInfo:"test",shareKeysname:[]}},methods:{search:function(){var e=this,t=this.keysname.join("-");t=t+"|"+this.nameser+"|"+this.lightcompser,e.$axios.get("/searchMult/"+t).then((function(t){var n=t.data.data;for(var a in n)n[a].induction=n[a].induction.substr(0,10),n[a].gender=1==n[a].gender?"男":"女";e.persons=n}))},loadPage:function(e){var t=this;this.$axios.get("/keys").then((function(e){var n=e.data.data;for(var a in t.keysall=n,n)t.keys.push(n[a].keyname)})),this.$axios.get("/person?currentPage="+e).then((function(e){var n,a=e.data.data.records,o=Object(m["a"])(a);try{for(o.s();!(n=o.n()).done;){var r=n.value;r.induction=r.induction.substr(0,10),r.gender=1==r.gender?"男":"女",t.$axios.get("/personkey/"+r.id).then((function(e){t.keysnamec=e.data.data.toString()}))}}catch(s){o.e(s)}finally{o.f()}t.persons=a,t.currentPage=e.data.data.current,t.total=e.data.data.total,t.pageSize=e.data.data.size}))},editperson:function(e,t){this.$router.push("/person/"+t+e.id+"/edit")},deleteperson:function(e){this.$axios.get("/person/delete/"+e.id).then((function(e){})),location.reload()},handleClose:function(e){this.$confirm("确认关闭？").then((function(t){e()})).catch((function(e){}))},onClickShare:function(e){this.dialogVisible=!0;var t=this;this.$axios.get("/personkey/"+e.id).then((function(n){var a=n.data.data;for(var o in t.shareKeysname.length=0,a)t.shareKeysname.push(a[o]);t.sharedInfo="姓名："+e.name+"\n电话："+e.phone+"\n邮箱："+e.email+"\n性别："+e.gender+"\n学校："+(null==e.school?"":e.school)+"\n专业："+(null==e.major?"":e.major)+"\n学历："+(null==e.qualification?"":e.qualification)+"\n关键字："+t.shareKeysname.toString()+"\n工作年限："+e.workexp+"\n目前薪资："+(null==e.salarynow?"":e.salarynow)+"\n期望薪资："+(null==e.salaryexpect?"":e.salaryexpect)+"\n简历日期："+e.induction+"\n招聘渠道："+(null==e.employfrom?"":e.employfrom)+"\n毕业时间："+(null==e.gmt_report?"":e.gmt_report)+"\n是否面试："+(1==e.isinterview?"已面试":"未面试")+"\n面试结果："+(1==e.interviewres?"已通过":"未通过")+"\n备注/其它："+(null==e.workset?"无":e.workset)+"\n亮点公司/岗位："+(null==e.lightcomp?"":e.lightcomp)+"\n"}))},onCopy:function(){this.dialogVisible=!1,P.a.Message.success("成功复制到剪贴板！")}},created:function(){this.loadPage(1)}},G=W,J=(n("5fc0"),Object(s["a"])(G,D,U,!1,null,"634bd29b",null)),B=J.exports,Y=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("Header"),n("div",{staticClass:"pad_menu"},[n("PadMenu")],1),n("NowPersonList")],1)},Q=[],X=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"pad_content"},[n("div",{staticClass:"div_table"},[n("el-table",{staticStyle:{width:"100%"},attrs:{data:e.nowpersons,stripe:""}},[n("el-table-column",{attrs:{prop:"id",label:"编号",width:"100","show-overflow-tooltip":""}}),n("el-table-column",{attrs:{prop:"name",label:"姓名",width:"100"}}),n("el-table-column",{attrs:{prop:"cstEntry",label:"入职时间",width:"100"}}),n("el-table-column",{attrs:{prop:"department",label:"部门",width:"100"}}),n("el-table-column",{attrs:{prop:"post",label:"岗位",width:"100"}}),n("el-table-column",{attrs:{prop:"status",label:"状态",width:"60"}}),n("el-table-column",{attrs:{prop:"phone",label:"电话",width:"120"}}),n("el-table-column",{attrs:{prop:"more",label:"备注/其他","show-overflow-tooltip":"","min-width":"120px"}}),n("el-table-column",{attrs:{label:"操作",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-dialog",{attrs:{title:"人员信息",visible:e.dialogVisible,width:"500px","before-close":e.handleClose},on:{"update:visible":function(t){e.dialogVisible=t}}},[n("el-input",{attrs:{type:"textarea",rows:10,placeholder:"出错了!!"},model:{value:e.sharedInfo,callback:function(t){e.sharedInfo=t},expression:"sharedInfo"}}),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("关 闭")]),n("el-button",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:e.sharedInfo,expression:"sharedInfo",arg:"copy"}],attrs:{type:"primary"},on:{click:function(t){return e.onCopy()}}},[e._v("复 制")])],1)],1),n("el-button",{attrs:{type:"text",size:"small"},on:{click:function(n){return e.onClickShare(t.row)}}},[e._v("分享")]),n("el-button",{attrs:{type:"text",size:"small"},on:{click:function(n){return e.editperson(t.row,1)}}},[e._v("查看")]),n("el-button",{attrs:{type:"text",size:"small"},on:{click:function(n){return e.editperson(t.row,2)}}},[e._v("编辑")]),n("el-button",{attrs:{type:"text",size:"small"},on:{click:function(n){return e.deleteperson(t.row)}}},[e._v("删除")])]}}])})],1)],1),n("el-pagination",{staticStyle:{"margin-bottom":"40px"},attrs:{background:"",layout:"prev, pager, next","current-page":e.currentPage,"page-size":e.pageSize,total:e.total},on:{"current-change":e.loadPage}})],1)},Z=[],ee=(n("96cf"),n("1da1")),te={name:"NowPersonList",data:function(){return{currentPage:1,total:0,pageSize:10,nowpersons:[],dialogVisible:!1,sharedInfo:"null",shareKeysname:[],tooltip:!0}},methods:{loadPage:function(e){var t=this;this.$axios.get("/nowperson?currentPage="+e).then((function(e){var n,a=e.data.data.records,o=Object(m["a"])(a);try{for(o.s();!(n=o.n()).done;){var r=n.value;r.cstEntry=r.cstEntry.substr(0,10),r.gender=1==r.gender?"男":"女",r.status=null==r.cstResign?"在职":"离职"}}catch(s){o.e(s)}finally{o.f()}t.nowpersons=a,t.total=e.data.data.total,t.pageSize=e.data.data.pageSize,t.currentPage=e.data.data.currentPage}))},editperson:function(e,t){this.$router.push("/nowperson/"+t+e.id+"/edit")},deleteperson:function(e){var t=this;this.$confirm("此操作将删除该员工信息, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.$axios.get("/nowperson/delete/"+e.id).then((function(e){})),t.$message({type:"success",message:"删除成功!"}),location.reload()})).catch((function(){t.$message({type:"info",message:"已取消删除"})}))},handleClose:function(e){this.$confirm("确认关闭？").then((function(t){e()})).catch((function(e){}))},onClickShare:function(e){this.dialogVisible=!0;var t=this;this.sharedInfo="姓名："+e.name+"\n电话："+e.phone+"\n性别："+e.gender+"\n入职时间："+e.cstEntry,this.$axios.get("/lastRank/"+e.id).then(function(){var n=Object(ee["a"])(regeneratorRuntime.mark((function n(a){var o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(o=a.data.data,null==o){n.next=4;break}return n.next=4,t.$axios.get("/rank/"+o.rankid).then((function(e){t.sharedInfo+="\n职级："+e.data.data.name}));case 4:t.sharedInfo+="\n部门："+e.department+"\n岗位："+e.post+"\n离职时间："+(null==e.cstResign?"在职":e.cstResign)+"\n离职原因："+(null==e.cstResign?"在职":e.resignReason)+"\n毕业学校："+(null==e.school?"":e.school)+"\n专业："+(null==e.major?"":e.major)+"\n学历："+(null==e.qualification?"":e.qualification)+"\n毕业时间："+e.cstGraduation.substr(0,10)+"\n备注/其它："+(null==e.workset?"":e.workset);case 5:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}())},onCopy:function(){this.dialogVisible=!1,P.a.Message.success("成功复制到剪贴板！")}},created:function(){this.loadPage(1)}},ne=te,ae=(n("ca00"),Object(s["a"])(ne,X,Z,!1,null,"ee2ae894",null)),oe=ae.exports,re={name:"NowPerson",components:{NowPersonList:oe,PadMenu:S,Header:w},data:function(){return{activities:[{content:"支持使用图标",timestamp:"2018-04-12 20:46",size:"large",type:"primary",icon:"el-icon-more"},{content:"支持自定义颜色",timestamp:"2018-04-03 20:46",color:"#0bbd87"},{content:"支持自定义尺寸",timestamp:"2018-04-03 20:46",size:"large"},{content:"默认样式的节点",timestamp:"2018-04-03 20:46"}]}}},se=re,ie=Object(s["a"])(se,Y,Q,!1,null,"c07611e8",null),le=ie.exports,ce=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("Header"),n("div",{staticClass:"pad_menu"},[n("PadMenu")],1),n("div",{staticClass:"pad_content"},[n("el-form",{ref:"nowform",attrs:{model:e.nowform,rules:e.rules,"label-width":"80px","label-position":"left",align:"left"}},[n("el-form-item",{attrs:{label:"编号",prop:"id"}},[n("el-input",{model:{value:e.nowform.id,callback:function(t){e.$set(e.nowform,"id",t)},expression:"nowform.id"}})],1),n("el-form-item",{attrs:{label:"姓名",prop:"name"}},[n("el-input",{model:{value:e.nowform.name,callback:function(t){e.$set(e.nowform,"name",t)},expression:"nowform.name"}})],1),n("el-form-item",{attrs:{label:"性别",prop:"gender"}},[n("el-radio-group",{model:{value:e.nowform.gender,callback:function(t){e.$set(e.nowform,"gender",t)},expression:"nowform.gender"}},[n("el-radio",{attrs:{label:"男"}}),n("el-radio",{attrs:{label:"女"}})],1)],1),n("el-form-item",{attrs:{label:"学校",prop:"school"}},[n("el-input",{model:{value:e.nowform.school,callback:function(t){e.$set(e.nowform,"school",t)},expression:"nowform.school"}})],1),n("el-form-item",{attrs:{label:"专业",prop:"major"}},[n("el-input",{model:{value:e.nowform.major,callback:function(t){e.$set(e.nowform,"major",t)},expression:"nowform.major"}})],1),n("el-form-item",{attrs:{label:"学历",prop:"qualification"}},[n("el-input",{model:{value:e.nowform.qualification,callback:function(t){e.$set(e.nowform,"qualification",t)},expression:"nowform.qualification"}})],1),n("el-form-item",{attrs:{label:"毕业时间",align:"center",prop:"cstGraduation"}},[n("el-col",{attrs:{span:11}},[n("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",placeholder:"选择日期"},model:{value:e.nowform.cstGraduation,callback:function(t){e.$set(e.nowform,"cstGraduation",t)},expression:"nowform.cstGraduation"}})],1)],1),n("el-form-item",{attrs:{label:"入职时间",align:"center",prop:"cstEntry"}},[n("el-col",{attrs:{span:11}},[n("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",placeholder:"选择日期"},model:{value:e.nowform.cstEntry,callback:function(t){e.$set(e.nowform,"cstEntry",t)},expression:"nowform.cstEntry"}})],1)],1),n("el-form-item",{directives:[{name:"show",rawName:"v-show",value:e.isEdit,expression:"isEdit"}],attrs:{label:"职级",align:"center",prop:"nowPersonRanks"}},[n("el-timeline",e._l(e.nowPersonRanks,(function(t,a){return n("el-timeline-item",{key:a,staticStyle:{"text-align":"left"},attrs:{color:t.color,timestamp:t.cstChange}},[e._v(" "+e._s(t.rankname)+"--"+e._s(t.reason)+" ")])})),1),n("div",{staticStyle:{"text-align":"left"}},[n("el-tooltip",{attrs:{effect:"light",content:"删除最近一个职级",placement:"left"}},[n("el-button",{attrs:{type:"danger",plain:""},on:{click:function(t){return e.deletePersonRank()}}},[e._v("删除")])],1),n("el-button",{attrs:{type:"primary",plain:""},on:{click:function(t){return e.addPersonRank()}}},[e._v("添加")]),n("el-dialog",{attrs:{title:"升/降一个职级",visible:e.addRankDialogVisible},on:{"update:visible":function(t){e.addRankDialogVisible=t}}},[n("el-form",{ref:"nowpersonRankForm",staticStyle:{"margin-left":"60px"},attrs:{model:e.addRankForm,"label-width":"100px","label-position":"left",align:"left",rules:e.rules}},[n("el-form-item",{staticStyle:{"margin-bottom":"20px"},attrs:{label:"职级"}},[n("el-select",{attrs:{placeholder:"请选择"},model:{value:e.selectRank,callback:function(t){e.selectRank=t},expression:"selectRank"}},e._l(e.ranks,(function(e){return n("el-option",{key:e.id,attrs:{label:e.name,value:e.name}})})),1)],1),n("el-form-item",{staticStyle:{"margin-bottom":"20px"},attrs:{label:"升/降日期",prop:"cstChange"}},[n("el-col",{attrs:{span:11}},[n("el-date-picker",{attrs:{type:"date",placeholder:"选择日期"},model:{value:e.addRankForm.cstChange,callback:function(t){e.$set(e.addRankForm,"cstChange",t)},expression:"addRankForm.cstChange"}})],1)],1),n("el-form-item",{attrs:{label:"升/降原因",prop:"reason"}},[n("el-input",{model:{value:e.addRankForm.reason,callback:function(t){e.$set(e.addRankForm,"reason",t)},expression:"addRankForm.reason"}})],1)],1),n("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(t){e.addRankDialogVisible=!1}}},[e._v("取 消")]),n("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitAddRank("nowpersonRankForm")}}},[e._v("确 定")])],1)],1)],1)],1),n("el-form-item",{attrs:{label:"部门",prop:"department"}},[n("el-input",{model:{value:e.nowform.department,callback:function(t){e.$set(e.nowform,"department",t)},expression:"nowform.department"}})],1),n("el-form-item",{attrs:{label:"岗位",prop:"post"}},[n("el-input",{model:{value:e.nowform.post,callback:function(t){e.$set(e.nowform,"post",t)},expression:"nowform.post"}})],1),n("el-form-item",{attrs:{label:"离职时间",align:"center",prop:"cstResign"}},[n("el-col",{attrs:{span:11}},[n("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",placeholder:"选择日期"},model:{value:e.nowform.cstResign,callback:function(t){e.$set(e.nowform,"cstResign",t)},expression:"nowform.cstResign"}})],1)],1),n("el-form-item",{attrs:{label:"离职原因",prop:"resignReason"}},[n("el-input",{model:{value:e.nowform.resignReason,callback:function(t){e.$set(e.nowform,"resignReason",t)},expression:"nowform.resignReason"}})],1),n("el-form-item",{attrs:{label:"电话",prop:"phone"}},[n("el-input",{model:{value:e.nowform.phone,callback:function(t){e.$set(e.nowform,"phone",t)},expression:"nowform.phone"}})],1),n("el-form-item",{directives:[{name:"show",rawName:"v-show",value:e.isEdit,expression:"isEdit"}],attrs:{label:"文件上传"}},[n("el-upload",{ref:"upload",attrs:{"on-preview":e.handlePreview,"on-remove":e.handleRemove,"auto-upload":!1,"file-list":e.uploadFileList,data:e.nowform,action:"http://47.111.235.119:39081/hypad/upload"}},[n("el-button",{attrs:{slot:"trigger",size:"small",type:"primary"},slot:"trigger"},[e._v("选取文件")]),n("el-button",{directives:[{name:"show",rawName:"v-show",value:e.isEdit,expression:"isEdit"}],staticStyle:{"margin-left":"10px"},attrs:{size:"small",type:"success"},on:{click:e.submitUpload}},[e._v("上传到服务器 ")]),n("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v("仅在此上传文件，点击 创建/修改 文件不会上传，文件不超过200Mb")])],1)],1),n("el-form-item",{directives:[{name:"show",rawName:"v-show",value:e.isEdit,expression:"isEdit"}],attrs:{label:"文件下载"}},[n("el-table",{staticStyle:{width:"100%"},attrs:{data:e.files,stripe:""}},[n("el-table-column",{attrs:{label:0,label:"文件名","min-width":"300",prop:"name","show-overflow-tooltip":""}}),n("el-table-column",{attrs:{label:"操作",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-button",{attrs:{type:"text",size:"small"},on:{click:function(n){return e.downloadFile(t.row)}}},[e._v("下载")]),n("el-button",{attrs:{type:"text",size:"small"},on:{click:function(n){return e.deletefile(t.row)}}},[e._v("删除")])]}}])})],1)],1),n("el-form-item",{attrs:{label:"备注",prop:"more"}},[n("el-input",{model:{value:e.nowform.more,callback:function(t){e.$set(e.nowform,"more",t)},expression:"nowform.more"}})],1),n("el-form-item",{directives:[{name:"show",rawName:"v-show",value:!e.isWatch,expression:"!isWatch"}]},[n("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.onSubmit("nowform")}}},[e._v("创建 / 修改")]),n("el-button",{on:{click:function(t){return e.resetForm("nowform")}}},[e._v("清空")])],1)],1)],1)],1)},ue=[],de=(n("3ca3"),{name:"NowPersonEdit",components:{PadMenu:S,Header:w},data:function(){return{nowform:{id:"",name:"",gender:"",cstEntry:"",ranknum:0,cstResign:"",resignReason:"",department:"",post:"",school:"",major:"",qualification:"",cstGraduation:"",phone:"",more:""},selectRankVisible:!1,rankname:"",selectRank:"",addRankForm:{personid:"",rankid:"1",shunxu:0,reason:"",cstChange:""},nowPersonRanks:[],isWatch:!1,isEdit:!1,ranks:[],addRankDialogVisible:!1,uploadFileList:[],files:[],rules:{id:[{required:!0,message:"请输入员工编号",trigger:"blur"}],name:[{required:!0,message:"请输入员工姓名",trigger:"blur"}],cstEntry:[{required:!0,message:"请输入员工入职时间",trigger:"blur"}],department:[{required:!0,message:"请输入员工所属部门",trigger:"blur"}],post:[{required:!0,message:"请输入员工岗位",trigger:"blur"}],cstGraduation:[{required:!0,message:"请输入员工毕业时间",trigger:"blur"}],cstChange:[{required:!0,message:"请选择修改日期",trigger:"blur"}]}}},methods:{onSubmit:function(e){var t=this;this.$refs[e].validate((function(e){if(!e)return console.log("error submit!!!"),!1;t.nowform.gender="男"==t.nowform.gender?"1":"0",console.log("success submit!!!"),t.$axios.post("/nowperson/edit",t.nowform,{}).then((function(e){t.$router.push("/nowperson")}))}))},resetForm:function(e){this.$refs[e].resetFields()},deletePersonRank:function(){0!=this.nowPersonRanks.length&&this.$axios.get("/nowpersonrank/delete/"+this.nowPersonRanks[this.nowPersonRanks.length-1].id).then((function(e){location.reload()}))},addPersonRank:function(){var e=new Date;this.addRankForm.cstChange=e.toISOString();var t=this;this.$axios.get("/ranks").then((function(e){t.addRankDialogVisible=!0,t.ranks=e.data.data}))},submitAddRank:function(e){var t=this;if(""!=this.selectRank){this.addRankForm.personid=this.nowform.id,this.addRankForm.shunxu=this.nowPersonRanks.length+1;var n,a=Object(m["a"])(this.ranks);try{for(a.s();!(n=a.n()).done;){var o=n.value;if(this.selectRank==o.name){this.addRankForm.rankid=o.id;break}}}catch(r){a.e(r)}finally{a.f()}this.$refs[e].validate((function(e){if(!e)return console.log("error submit!!!"),!1;t.$axios.post("/nowpersonrank/add",t.addRankForm,{}).then((function(e){location.reload(),t.addRankDialogVisible=!1}))}))}else P.a.Message.error("请选择一个职级")},submitUpload:function(){this.$refs.upload.submit(),this.$message({showClose:!0,message:"上传成功！",type:"success"})},handleRemove:function(e,t){console.log(e,t)},handlePreview:function(e){console.log(e)},downloadFile:function(e){console.log(this.nowform.id+"###########"),window.location.href="http://47.111.235.119:39081/hypad/downloadFile/"+this.form.id+"-"+e.name},deletefile:function(e){this.$axios.get("/deleteFile/"+this.nowform.id+"-"+e.name).then((function(e){})),location.reload()}},created:function(){var e=this.$route.params.nowpersonId,t=this;e&&("1"==e.charAt(0)&&(this.isWatch=!0),e=e.substring(1,e.length),this.isEdit=!0,this.$axios.get("/nowperson/"+e).then((function(e){var n=e.data.data;t.nowform=n,t.nowform.gender=1==n.gender?"男":"女"})),this.$axios.get("/nowpersonrank/"+e).then(function(){var e=Object(ee["a"])(regeneratorRuntime.mark((function e(n){var a,o,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:a=n.data.data,o=regeneratorRuntime.mark((function e(n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$axios.get("/rank/"+a[n].rankid).then((function(e){a[n].color="#0bbd87",a[n].cstChange=a[n].cstChange.substr(0,10);var t=e.data.data;a[n].rankname=t.name,a[n].decription=t.decription}));case 2:case"end":return e.stop()}}),e)})),e.t0=regeneratorRuntime.keys(a);case 3:if((e.t1=e.t0()).done){e.next=8;break}return r=e.t1.value,e.delegateYield(o(r),"t2",6);case 6:e.next=3;break;case 8:t.nowPersonRanks=a;case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.$axios.get("/filename/"+e).then((function(e){var n=e.data.data;for(var a in n){var o={name:"null"};o.name=n[a],t.files.push(o)}})))}}),pe=de,me=Object(s["a"])(pe,ce,ue,!1,null,"7d267c23",null),fe=me.exports,he=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("Header"),n("div",{staticClass:"pad_menu"},[n("PadMenu")],1),n("div",{staticClass:"pad_content"},[n("div",{staticClass:"div_term"},[n("div",{staticClass:"div_item"},e._l(e.ranks,(function(t){return n("el-checkbox-group",{model:{value:e.selectedRanks,callback:function(t){e.selectedRanks=t},expression:"selectedRanks"}},[n("el-checkbox",{staticStyle:{"margin-right":"4px",float:"left"},attrs:{label:t.name}})],1)})),1),n("br"),n("el-divider",{staticClass:"el_divider"}),n("div",{staticClass:"div_item"},[n("el-input",{attrs:{placeholder:"输入搜索内容","prefix-icon":"el-icon-search"},model:{value:e.searchContent,callback:function(t){e.searchContent=t},expression:"searchContent"}})],1),n("el-divider",{staticClass:"el_divider"}),n("el-button",{staticClass:"div_item",staticStyle:{"margin-top":"12px"},attrs:{type:"primary",plain:""},on:{click:e.search}},[e._v("立即查询 ")])],1),n("div",{staticClass:"div_table"},[n("el-table",{staticStyle:{width:"100%"},attrs:{data:e.nowpersons,stripe:""}},[n("el-table-column",{attrs:{prop:"id",label:"编号",width:"100","show-overflow-tooltip":""}}),n("el-table-column",{attrs:{prop:"name",label:"姓名",width:"100"}}),n("el-table-column",{attrs:{prop:"cstEntry",label:"入职时间",width:"100"}}),n("el-table-column",{attrs:{prop:"department",label:"部门",width:"100"}}),n("el-table-column",{attrs:{prop:"post",label:"岗位",width:"100"}}),n("el-table-column",{attrs:{prop:"status",label:"状态",width:"60"}}),n("el-table-column",{attrs:{prop:"phone",label:"电话",width:"120"}}),n("el-table-column",{attrs:{prop:"more",label:"备注/其他"}}),n("el-table-column",{attrs:{label:"操作",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-dialog",{attrs:{title:"人员信息",visible:e.dialogVisible,width:"500px","before-close":e.handleClose},on:{"update:visible":function(t){e.dialogVisible=t}}},[n("el-input",{attrs:{type:"textarea",rows:10,placeholder:"出错了!!"},model:{value:e.sharedInfo,callback:function(t){e.sharedInfo=t},expression:"sharedInfo"}}),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("关 闭")]),n("el-button",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:e.sharedInfo,expression:"sharedInfo",arg:"copy"}],attrs:{type:"primary"},on:{click:function(t){return e.onCopy()}}},[e._v("复 制")])],1)],1),n("el-button",{attrs:{type:"text",size:"small"},on:{click:function(n){return e.onClickShare(t.row)}}},[e._v("分享")]),n("el-button",{attrs:{type:"text",size:"small"},on:{click:function(n){return e.editperson(t.row,1)}}},[e._v("查看")]),n("el-button",{attrs:{type:"text",size:"small"},on:{click:function(n){return e.editperson(t.row,2)}}},[e._v("编辑")]),n("el-button",{attrs:{type:"text",size:"small"},on:{click:function(n){return e.deleteperson(t.row)}}},[e._v("删除")])]}}])})],1)],1)])],1)},ge=[],be={name:"NowPersonSearch",components:{PadMenu:S,Header:w},data:function(){return{searchContent:"",ranks:[],selectedRanks:[],nowpersons:[],dialogVisible:!1,sharedInfo:"null",shareKeysname:[],tooltip:!0}},methods:{search:function(){var e=this,t=this.selectedRanks.join("-");t=t+"|"+this.searchContent,e.$axios.get("/nowperson/searchMult/"+t).then((function(t){var n=t.data.data;for(var a in n)n[a].cstEntry=n[a].cstEntry.substr(0,10),n[a].gender=1==n[a].gender?"男":"女",n[a].status=null==n[a].cstResign?"在职":"离职";e.nowpersons=n}))},loadPage:function(e){var t=this;this.$axios.get("/ranks").then((function(e){t.ranks=e.data.data})),this.$axios.get("/nowperson?currentPage="+e).then((function(e){var n,a=e.data.data.records,o=Object(m["a"])(a);try{for(o.s();!(n=o.n()).done;){var r=n.value;r.cstEntry=r.cstEntry.substr(0,10),r.gender=1==r.gender?"男":"女",r.status=null==r.cstResign?"在职":"离职"}}catch(s){o.e(s)}finally{o.f()}t.nowpersons=a}))},editperson:function(e,t){this.$router.push("/nowperson/"+t+e.id+"/edit")},deleteperson:function(e){var t=this;this.$confirm("此操作将删除该员工信息, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.$axios.get("/nowperson/delete/"+e.id).then((function(e){})),t.$message({type:"success",message:"删除成功!"}),location.reload()})).catch((function(){t.$message({type:"info",message:"已取消删除"})}))},handleClose:function(e){this.$confirm("确认关闭？").then((function(t){e()})).catch((function(e){}))},onClickShare:function(e){this.dialogVisible=!0;var t=this;this.sharedInfo="姓名："+e.name+"\n电话："+e.phone+"\n性别："+e.gender+"\n入职时间："+e.cstEntry,this.$axios.get("/lastRank/"+e.id).then(function(){var n=Object(ee["a"])(regeneratorRuntime.mark((function n(a){var o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(o=a.data.data,null==o){n.next=4;break}return n.next=4,t.$axios.get("/rank/"+o.rankid).then((function(e){t.sharedInfo+="\n职级："+e.data.data.name}));case 4:t.sharedInfo+="\n部门："+e.department+"\n岗位："+e.post+"\n离职时间："+(null==e.cstResign?"在职":e.cstResign)+"\n离职原因："+(null==e.cstResign?"在职":e.resignReason)+"\n毕业学校："+(null==e.school?"":e.school)+"\n专业："+(null==e.major?"":e.major)+"\n学历："+(null==e.qualification?"":e.qualification)+"\n毕业时间："+e.cstGraduation.substr(0,10)+"\n备注/其它："+(null==e.workset?"":e.workset);case 5:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}())},onCopy:function(){this.dialogVisible=!1,P.a.Message.success("成功复制到剪贴板！")}},created:function(){this.loadPage(1)}},ve=be,we=(n("21c8"),Object(s["a"])(ve,he,ge,!1,null,"bd75eefe",null)),ke=we.exports,ye=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("Header"),n("div",{staticClass:"pad_menu"},[n("PadMenu")],1),n("div",{staticClass:"pad_content"},[n("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:e.rankdata,stripe:"","tooltip-effect":"dark"},on:{"selection-change":e.handleSelectionChange}},[n("el-table-column",{attrs:{type:"selection",width:"55"}}),n("el-table-column",{attrs:{prop:"name",label:"关键字",width:"120"}}),n("el-table-column",{attrs:{prop:"decription",label:"描述","show-overflow-tooltip":""}})],1),n("div",{staticStyle:{"margin-top":"20px"},attrs:{align:"left"}},[n("el-button",{on:{click:e.deleteSelect}},[e._v("删除所选职级")]),n("el-button",{on:{click:function(t){e.rankDialogVisible=!0}}},[e._v("添加职级")]),n("el-dialog",{attrs:{title:"新建职级",visible:e.rankDialogVisible},on:{"update:visible":function(t){e.rankDialogVisible=t}}},[n("el-form",{ref:"rankins",attrs:{model:e.rankins,rules:e.rules}},[n("el-form-item",{attrs:{label:"职级名称",prop:"name"}},[n("el-input",{attrs:{autocomplete:"off"},model:{value:e.rankins.name,callback:function(t){e.$set(e.rankins,"name",t)},expression:"rankins.name"}})],1),n("el-form-item",{attrs:{label:"描述(选填)",prop:"decription"}},[n("el-input",{attrs:{type:"textarea",rows:2,placeholder:"职级描述"},model:{value:e.rankins.keydes,callback:function(t){e.$set(e.rankins,"keydes",t)},expression:"rankins.keydes"}})],1)],1),n("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(t){e.rankDialogVisible=!1}}},[e._v("取 消")]),n("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.addRank("rankins")}}},[e._v("确 定")])],1)],1)],1)],1)],1)},xe=[],_e={name:"Rank",components:{PadMenu:S,Header:w},data:function(){return{rankdata:[],multipleSelection:[],rankDialogVisible:!1,rankins:{},rules:{name:[{required:!0,message:"请输入职级名称",trigger:"blur"}]}}},methods:{loadPage:function(){var e=this;this.$axios.get("/ranks").then((function(t){e.rankdata=t.data.data}))},handleSelectionChange:function(e){this.multipleSelection=e},deleteSelect:function(){var e,t="",n=Object(m["a"])(this.multipleSelection);try{for(n.s();!(e=n.n()).done;){var a=e.value;t+=a.id+"-"}}catch(o){n.e(o)}finally{n.f()}t=t.substr(0,t.length-1);this.$axios.get("/ranks/delete/"+t).then((function(e){})),location.reload()},addRank:function(e){var t=this;this.$refs[e].validate((function(e){if(!e)return console.log("error submit!!!"),!1;var n=t;t.$axios.post("/rank/edit",t.rankins,{}).then((function(e){console.log(e),n.rankDialogVisible=!1,location.reload()}))}))}},created:function(){this.loadPage()}},$e=_e,Se=Object(s["a"])($e,ye,xe,!1,null,"5b92637a",null),Ce=Se.exports,Pe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("Header"),n("div",{staticClass:"pad_menu"},[n("PadMenu")],1),n("div",{staticClass:"pad_content"},[n("el-main",{directives:[{name:"show",rawName:"v-show",value:!e.isLogin,expression:"!isLogin"}]},[n("el-form",{ref:"logInfo",attrs:{model:e.logInfo,rules:e.logRules,"label-width":"100px"}},[n("el-form-item",{attrs:{label:"用户名",prop:"username"}},[n("el-input",{model:{value:e.logInfo.username,callback:function(t){e.$set(e.logInfo,"username",t)},expression:"logInfo.username"}})],1),n("el-form-item",{attrs:{label:"密码",prop:"password"}},[n("el-input",{attrs:{type:"password"},model:{value:e.logInfo.password,callback:function(t){e.$set(e.logInfo,"password",t)},expression:"logInfo.password"}})],1),n("el-form-item",[n("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.login("logInfo")}}},[e._v("登录")]),n("el-button",{on:{click:function(t){return e.resetForm("logInfo")}}},[e._v("重置")])],1)],1)],1),n("div",{directives:[{name:"show",rawName:"v-show",value:e.isLogin,expression:"isLogin"}],attrs:{align:"left"}},[n("div",{staticStyle:{width:"200px","margin-top":"60px","margin-left":"30px"}},[e._v(" 账户名: "+e._s(e.logInfo.username)+" ")]),n("el-button",{staticStyle:{"margin-left":"30px","margin-top":"10px"},attrs:{type:"danger",plain:""},on:{click:e.logout}},[e._v("注销账户 ")])],1)],1)],1)},Re=[],Ie={name:"Login",components:{PadMenu:S,Header:w},data:function(){return{isLogin:!1,logInfo:{username:"",password:""},logRules:{username:[{required:!0,message:"请输入用户名",trigger:"blur"}],password:[{required:!0,message:"请选择密码",trigger:"change"}]}}},methods:{login:function(e){var t=this;this.$refs[e].validate((function(e){if(e){var n=t;t.$axios.post("/login",t.logInfo).then((function(e){var t=e.data.data;n.$store.commit("SET_USERINFO",t),n.logInfo.username=t.username,n.isLogin=!0}))}}))},logout:function(){this.$store.commit("REMOVE_INFO"),this.isLogin=!1},resetForm:function(e){this.$refs[e].resetFields()}},created:function(){this.isLogin=null!==localStorage.getItem("userInfo")&&localStorage.getItem("userInfo").toString()!==JSON.stringify(""),this.isLogin&&(this.logInfo.username=JSON.parse(localStorage.getItem("userInfo")).username)}},Ee=Ie,Oe=Object(s["a"])(Ee,Pe,Re,!1,null,"2a990543",null),je=Oe.exports;a["default"].use(u["a"]);var Ve=[{path:"/",name:"Index",redirect:{name:"Person"}},{path:"/person",name:"Person",component:O},{path:"/personsearch",name:"PersonSearch",component:B},{path:"/person/add",name:"PersonAdd",component:M},{path:"/person/:personId/edit",name:"PersonEdit",component:M},{path:"/keys",name:"Keys",component:A},{path:"/nowperson",name:"NowPerson",component:le,meta:{requireAuth:!0}},{path:"/nowperson/add",name:"NowPersonAdd",component:fe,meta:{requireAuth:!0}},{path:"/nowperson/:nowpersonId/edit",name:"NowPersonEdit",component:fe,meta:{requireAuth:!0}},{path:"/nowpersonsearch",name:"NowPersonSearch",component:ke,meta:{requireAuth:!0}},{path:"/rank",name:"Rank",component:Ce,meta:{requireAuth:!0}},{path:"/account",name:"Account",component:je}],Fe=new u["a"]({mode:"history",base:"/",routes:Ve}),ze=Fe,qe=n("2f62");a["default"].use(qe["a"]);var Me=new qe["a"].Store({state:{userInfo:JSON.parse(localStorage.getItem("userInfo"))},mutations:{SET_USERINFO:function(e,t){e.userInfo=t,localStorage.setItem("userInfo",JSON.stringify(t))},REMOVE_INFO:function(e,t){e.token="",e.userInfo={},localStorage.setItem("token",""),localStorage.setItem("userInfo",JSON.stringify(""))}},getters:{getToken:function(e){return e.token},getUserInfo:function(e){return e.userInfo}},actions:{},modules:{}}),Ne=n("9306"),Te=n.n(Ne),He=n("82ae"),Le=n.n(He);n("3880");Le.a.defaults.baseURL="http://47.111.235.119:39081/hypad",Le.a.interceptors.request.use((function(e){return e})),Le.a.interceptors.response.use((function(e){if(null==e.data||!e.data.msg)return e;var t=e.data;return t&&(t.message=e.data.msg),200==t.code?("OK"!=t.message&&P.a.Message.success(t.message),e):(P.a.Message.error(t.message),Promise.reject(t.message))}),(function(e){return 400===e.response.status&&(Me.commit("REMOVE_INFO"),ze.push("/login")),P.a.Message.error(e.response.data.msg),Promise.reject(e)}));n("3e85"),n("45fc");ze.beforeEach((function(e,t,n){if(e.matched.some((function(e){return e.meta.requireAuth}))){var a=null!==localStorage.getItem("userInfo")&&localStorage.getItem("userInfo").toString()!==JSON.stringify("");a?n():(P.a.Message.warning("请先登录!"),n({name:"Account"}))}else n()})),a["default"].prototype.$axios=Le.a,a["default"].use(P.a),a["default"].use(Te.a),a["default"].config.productionTip=!1,new a["default"]({router:ze,store:Me,render:function(e){return e(c)}}).$mount("#app")},"5a01":function(e,t,n){"use strict";var a=n("54a4"),o=n.n(a);o.a},"5fc0":function(e,t,n){"use strict";var a=n("7352"),o=n.n(a);o.a},7352:function(e,t,n){},"7a74":function(e,t,n){},"85ec":function(e,t,n){},b13e:function(e,t,n){},ca00:function(e,t,n){"use strict";var a=n("b13e"),o=n.n(a);o.a}});
//# sourceMappingURL=app.a2dcf7bf.js.map